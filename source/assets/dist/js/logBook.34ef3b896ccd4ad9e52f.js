(()=>{var t={9002:t=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}t.exports="object"==("undefined"==typeof self?"undefined":e(self))?self.FormData:window.FormData},9311:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var i=o(n(9273)),a=r(n(1622)),u=r(n(76)),s=o(n(7947)),l=o(n(6475)),c=r(n(8628));function f(){var t=new i.HandlebarsEnvironment;return s.extend(t,i),t.SafeString=a.default,t.Exception=u.default,t.Utils=s,t.escapeExpression=s.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t}var h=f();h.create=f,c.default(h),h.default=h,e.default=h,t.exports=e.default},9273:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=f;var o=n(7947),i=r(n(76)),a=n(897),u=n(8279),s=r(n(827)),l=n(4470);e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var c="[object Object]";function f(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}f.prototype={constructor:f,logger:s.default,log:s.default.log,registerHelper:function(t,e){if(o.toString.call(t)===c){if(e)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(o.toString.call(t)===c)o.extend(this.partials,t);else{if(void 0===e)throw new i.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(o.toString.call(t)===c){if(e)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){l.resetLoggedProperties()}};var h=s.default.log;e.log=h,e.createFrame=o.createFrame,e.logger=s.default},8279:(t,e,n)=>{"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var r,o=n(6522),i=(r=o)&&r.__esModule?r:{default:r}},6522:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(7947);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,o){var i=t;return e.partials||(e.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,e.partials);var u=t(o,i);return n.partials=a,u}),e.partials[o.args[0]]=o.fn,i}))},t.exports=e.default},76:(t,e)=>{"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var o=e&&e.loc,i=void 0,a=void 0,u=void 0,s=void 0;o&&(i=o.start.line,a=o.end.line,u=o.start.column,s=o.end.column,t+=" - "+i+":"+u);for(var l=Error.prototype.constructor.call(this,t),c=0;c<n.length;c++)this[n[c]]=l[n[c]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:u,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:s,enumerable:!0})):(this.column=u,this.endColumn=s))}catch(t){}}r.prototype=new Error,e.default=r,t.exports=e.default},897:(t,e,n)=>{"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){o.default(t),i.default(t),a.default(t),u.default(t),s.default(t),l.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var o=r(n(9685)),i=r(n(8794)),a=r(n(2029)),u=r(n(1975)),s=r(n(27)),l=r(n(3809)),c=r(n(7911))},9685:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(7947);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var o=n.inverse,i=n.fn;if(!0===e)return i(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(e,n)}))},t.exports=e.default},8794:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.__esModule=!0;var o,i=n(7947),a=n(76),u=(o=a)&&o.__esModule?o:{default:o};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new u.default("Must pass iterator to #each");var o,a=e.fn,s=e.inverse,l=0,c="",f=void 0,h=void 0;function p(e,n,r){f&&(f.key=e,f.index=n,f.first=0===n,f.last=!!r,h&&(f.contextPath=h+e)),c+=a(t[e],{data:f,blockParams:i.blockParams([t[e],e],[h+e,null])})}if(e.data&&e.ids&&(h=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(f=i.createFrame(e.data)),t&&"object"===r(t))if(i.isArray(t))for(var d=t.length;l<d;l++)l in t&&p(l,l,l===t.length-1);else if(n.g.Symbol&&t[n.g.Symbol.iterator]){for(var y=[],m=t[n.g.Symbol.iterator](),v=m.next();!v.done;v=m.next())y.push(v.value);for(d=(t=y).length;l<d;l++)p(l,l,l===t.length-1)}else o=void 0,Object.keys(t).forEach((function(t){void 0!==o&&p(o,l-1),o=t,l++})),void 0!==o&&p(o,l-1,!0);return 0===l&&(c=s(this)),c}))},t.exports=e.default},2029:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(76),i=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},1975:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(7947),i=n(76),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return o.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||o.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},27:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)}))},t.exports=e.default},3809:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},7911:(t,e,n)=>{"use strict";e.__esModule=!0;var r,o=n(7947),i=n(76),a=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");o.isFunction(t)&&(t=t.call(this));var n=e.fn;if(o.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=o.createFrame(e.data)).contextPath=o.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:o.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},6381:(t,e,n)=>{"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n(7947)},4470:(t,e,n)=>{"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return a("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(i).forEach((function(t){delete i[t]}))};var r=n(6381),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(827)),i=Object.create(null);function a(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==i[t]&&(i[t]=!0,o.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},9156:(t,e)=>{"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!=typeof t)return t;return function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}}},827:(t,e,n)=>{"use strict";e.__esModule=!0;var r=n(7947),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},8628:(t,e,n)=>{"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n.g?n.g:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default},6475:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=s.COMPILER_REVISION;if(e>=s.LAST_COMPATIBLE_COMPILER_REVISION&&e<=s.COMPILER_REVISION)return;if(e<s.LAST_COMPATIBLE_COMPILER_REVISION){var r=s.REVISION_CHANGES[n],o=s.REVISION_CHANGES[e];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new u.default("No environment passed to template");if(!t||!t.main)throw new u.default("Unknown template object: "+r(t));t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var o={strict:function(t,e,n){if(!t||!(e in t))throw new u.default('"'+e+'" not defined in '+t,{loc:n});return o.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||f.resultIsAllowed(n,o.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++){if(null!=(t[r]&&o.lookupProperty(t[r],e)))return t[r][e]}},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=i.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,o);var a=i.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=e.VM.invokePartial.call(this,n,r,a);if(null==s&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),s=o.partials[o.name](r,a)),null!=s){if(o.indent){for(var l=s.split("\n"),c=0,f=l.length;c<f&&(l[c]||c+1!==f);c++)l[c]=o.indent+l[c];s=l.join("\n")}return s}throw new u.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var i=this.programs[t],a=this.fn(t);return e||o||r||n?i=h(this,t,a,e,n,r,o):i||(i=this.programs[t]=h(this,t,a)),i},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=i.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function a(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;a._setup(n),!n.partial&&t.useData&&(r=d(e,r));var i=void 0,u=t.useBlockParams?[]:void 0;function s(e){return""+t.main(o,e,o.helpers,o.partials,r,u,i)}return t.useDepths&&(i=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(s=y(t.main,s,o,n.depths||[],r,u))(e,n)}return a.isTop=!0,a._setup=function(r){if(r.partial)o.protoAccessControl=r.protoAccessControl,o.helpers=r.helpers,o.partials=r.partials,o.decorators=r.decorators,o.hooks=r.hooks;else{var a=i.extend({},e.helpers,r.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return c.wrapHelper(t,(function(t){return i.extend({lookupProperty:n},t)}))}(r,e)}))}(a,o),o.helpers=a,t.usePartial&&(o.partials=o.mergeIfNeeded(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=i.extend({},e.decorators,r.decorators)),o.hooks={},o.protoAccessControl=f.createProtoAccessControl(r);var u=r.allowCallsToHelperMissing||n;l.moveHelperToHooks(o,"helperMissing",u),l.moveHelperToHooks(o,"blockHelperMissing",u)}},a._child=function(e,n,r,i){if(t.useBlockParams&&!r)throw new u.default("must pass block params");if(t.useDepths&&!i)throw new u.default("must pass parent depths");return h(o,e,t[e],n,0,r,i)},a},e.wrapProgram=h,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==p&&function(){n.data=s.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=s.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=i.extend({},n.partials,t.partials))}();void 0===t&&o&&(t=o);if(void 0===t)throw new u.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=p;var o,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(7947)),a=n(76),u=(o=a)&&o.__esModule?o:{default:o},s=n(9273),l=n(897),c=n(9156),f=n(4470);function h(t,e,n,r,o,i,a){function u(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],u=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(u=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),u)}return(u=y(n,u,t,a,r,i)).program=e,u.depth=a?a.length:0,u.blockParams=o||0,u}function p(){return""}function d(t,e){return e&&"root"in e||((e=e?s.createFrame(e):{}).root=t),e}function y(t,e,n,r,o,a){if(t.decorator){var u={};e=t.decorator(e,u,n,r&&r[0],o,a,r),i.extend(e,u)}return e}},1622:(t,e)=>{"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},7947:(t,e)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}e.__esModule=!0,e.extend=u,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!i.test(t))return t;return t.replace(o,a)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=u({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,i=/[&<>"'`=]/;function a(t){return r[t]}function u(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var s=Object.prototype.toString;e.toString=s;var l=function(t){return"function"==typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"==typeof t&&"[object Function]"===s.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!==n(t))&&"[object Array]"===s.call(t)};e.isArray=c},8049:(t,e,n)=>{t.exports=n(9311).default},5183:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}t=n.nmd(t);var o=function t(e,n){return this instanceof t?e instanceof t?e:((e="string"==typeof e?this.select(e,n):e)&&e.nodeName&&(e=[e]),void(this.nodes=this.slice(e))):new t(e,n)};(o.prototype={get length(){return this.nodes.length}}).nodes=[],o.prototype.addClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.add(e)}))},o.prototype.adjacent=function(t,e,n){return"number"==typeof e&&(e=0===e?[]:new Array(e).join().split(",").map(Number.call,Number)),this.each((function(r,i){var a=document.createDocumentFragment();o(e||{}).map((function(e,n){return"string"==typeof(n="function"==typeof t?t.call(this,e,n,r,i):t)?this.generate(n):o(n)})).each((function(t){this.isInPage(t)?a.appendChild(o(t).clone().first()):a.appendChild(t)})),n.call(this,r,a)}))},o.prototype.after=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t.nextSibling)}))},o.prototype.append=function(t,e){return this.adjacent(t,e,(function(t,e){t.appendChild(e)}))},o.prototype.args=function(t,e,n){return(t="string"!=typeof(t="function"==typeof t?t(e,n):t)?this.slice(t).map(this.str(e,n)):t).toString().split(/[\s,]+/).filter((function(t){return t.length}))},o.prototype.array=function(t){var e=this;return this.nodes.reduce((function(n,r,i){var a;return t?(a="string"==typeof(a=(a=t.call(e,r,i))||!1)?o(a):a)instanceof o&&(a=a.nodes):a=r.innerHTML,n.concat(!1!==a?a:[])}),[])},o.prototype.attr=function(t,e,n){return n=n?"data-":"",this.pairs(t,e,(function(t,e){return t.getAttribute(n+e)}),(function(t,e,r){r?t.setAttribute(n+e,r):t.removeAttribute(n+e)}))},o.prototype.before=function(t,e){return this.adjacent(t,e,(function(t,e){t.parentNode.insertBefore(e,t)}))},o.prototype.children=function(t){return this.map((function(t){return this.slice(t.children)})).filter(t)},o.prototype.clone=function(){return this.map((function(t,e){var n=t.cloneNode(!0),r=this.getAll(n);return this.getAll(t).each((function(t,e){for(var n in this.mirror)this.mirror[n]&&this.mirror[n](t,r.nodes[e])})),n}))},o.prototype.getAll=function(t){return o([t].concat(o("*",t).nodes))},o.prototype.mirror={},o.prototype.mirror.events=function(t,e){if(t._e)for(var n in t._e)t._e[n].forEach((function(t){o(e).on(n,t.callback)}))},o.prototype.mirror.select=function(t,e){o(t).is("select")&&(e.value=t.value)},o.prototype.mirror.textarea=function(t,e){o(t).is("textarea")&&(e.value=t.value)},o.prototype.closest=function(t){return this.map((function(e){do{if(o(e).is(t))return e}while((e=e.parentNode)&&e!==document)}))},o.prototype.data=function(t,e){return this.attr(t,e,!0)},o.prototype.each=function(t){return this.nodes.forEach(t.bind(this)),this},o.prototype.eacharg=function(t,e){return this.each((function(n,r){this.args(t,n,r).forEach((function(t){e.call(this,n,t)}),this)}))},o.prototype.empty=function(){return this.each((function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}))},o.prototype.filter=function(t){var e=t instanceof o?function(e){return-1!==t.nodes.indexOf(e)}:"function"==typeof t?t:function(e){return e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,e.matches(t||"*")};return o(this.nodes.filter(e))},o.prototype.find=function(t){return this.map((function(e){return o(t||"*",e)}))},o.prototype.first=function(){return this.nodes[0]||!1},o.prototype.generate=function(t){return/^\s*<tr[> ]/.test(t)?o(document.createElement("table")).html(t).children().children().nodes:/^\s*<t(h|d)[> ]/.test(t)?o(document.createElement("table")).html(t).children().children().children().nodes:/^\s*</.test(t)?o(document.createElement("div")).html(t).children().nodes:document.createTextNode(t)},o.prototype.handle=function(){var t=this.slice(arguments).map((function(t){return"function"==typeof t?function(e){e.preventDefault(),t.apply(this,arguments)}:t}),this);return this.on.apply(this,t)},o.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},o.prototype.html=function(t){return void 0===t?this.first().innerHTML||"":this.each((function(e){e.innerHTML=t}))},o.prototype.is=function(t){return 0<this.filter(t).length},o.prototype.isInPage=function(t){return t!==document.body&&document.body.contains(t)},o.prototype.last=function(){return this.nodes[this.length-1]||!1},o.prototype.map=function(t){return t?o(this.array(t)).unique():this},o.prototype.not=function(t){return this.filter((function(e){return!o(e).is(t||!0)}))},o.prototype.off=function(t,e,n){var r=null==e&&null==n,i=null,a=e;return"string"==typeof e&&(i=e,a=n),this.eacharg(t,(function(t,e){o(t._e?t._e[e]:[]).each((function(n){(r||n.orig_callback===a&&n.selector===i)&&t.removeEventListener(e,n.callback)}))}))},o.prototype.on=function(t,e,n){function r(t,e){try{Object.defineProperty(t,"currentTarget",{value:e,configurable:!0})}catch(t){}}var i=null,a=e;function u(t){return e.apply(this,[t].concat(t.detail||[]))}return"string"==typeof e&&(i=e,a=n,e=function(t){var e=arguments;o(t.currentTarget).find(i).each((function(o){var i;o.contains(t.target)&&(i=t.currentTarget,r(t,o),n.apply(o,e),r(t,i))}))}),this.eacharg(t,(function(t,e){t.addEventListener(e,u),t._e=t._e||{},t._e[e]=t._e[e]||[],t._e[e].push({callback:u,orig_callback:a,selector:i})}))},o.prototype.pairs=function(t,e,n,o){var i;return void 0!==e&&(i=t,(t={})[i]=e),"object"==r(t)?this.each((function(e,n){for(var r in t)"function"==typeof t[r]?o(e,r,t[r](e,n)):o(e,r,t[r])})):this.length?n(this.first(),t):""},o.prototype.param=function(t){return Object.keys(t).map(function(e){return this.uri(e)+"="+this.uri(t[e])}.bind(this)).join("&")},o.prototype.parent=function(t){return this.map((function(t){return t.parentNode})).filter(t)},o.prototype.prepend=function(t,e){return this.adjacent(t,e,(function(t,e){t.insertBefore(e,t.firstChild)}))},o.prototype.remove=function(){return this.each((function(t){t.parentNode&&t.parentNode.removeChild(t)}))},o.prototype.removeClass=function(){return this.eacharg(arguments,(function(t,e){t.classList.remove(e)}))},o.prototype.replace=function(t,e){var n=[];return this.adjacent(t,e,(function(t,e){n=n.concat(this.slice(e.children)),t.parentNode.replaceChild(e,t)})),o(n)},o.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},o.prototype.select=function(t,e){return t=t.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(t)?o().generate(t):(e||document).querySelectorAll(t)},o.prototype.serialize=function(){var t=this;return this.slice(this.first().elements).reduce((function(e,n){return!n.name||n.disabled||"file"===n.type||/(checkbox|radio)/.test(n.type)&&!n.checked?e:"select-multiple"===n.type?(o(n.options).each((function(r){r.selected&&(e+="&"+t.uri(n.name)+"="+t.uri(r.value))})),e):e+"&"+t.uri(n.name)+"="+t.uri(n.value)}),"").slice(1)},o.prototype.siblings=function(t){return this.parent().children(t).not(this)},o.prototype.size=function(){return this.first().getBoundingClientRect()},o.prototype.slice=function(t){return t&&0!==t.length&&"string"!=typeof t&&"[object Function]"!==t.toString()?t.length?[].slice.call(t.nodes||t):[t]:[]},o.prototype.str=function(t,e){return function(n){return"function"==typeof n?n.call(this,t,e):n.toString()}},o.prototype.text=function(t){return void 0===t?this.first().textContent||"":this.each((function(e){e.textContent=t}))},o.prototype.toggleClass=function(t,e){return!!e===e?this[e?"addClass":"removeClass"](t):this.eacharg(t,(function(t,e){t.classList.toggle(e)}))},o.prototype.trigger=function(t){var e=this.slice(arguments).slice(1);return this.eacharg(t,(function(t,n){var r,o={bubbles:!0,cancelable:!0,detail:e};try{r=new window.CustomEvent(n,o)}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e)}t.dispatchEvent(r)}))},o.prototype.unique=function(){return o(this.nodes.reduce((function(t,e){return null!=e&&!1!==e&&-1===t.indexOf(e)?t.concat(e):t}),[]))},o.prototype.uri=function(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},o.prototype.wrap=function(t){return this.map((function(e){return o(t).each((function(t){(function(t){for(;t.firstElementChild;)t=t.firstElementChild;return o(t)})(t).append(e.cloneNode(!0)),e.parentNode.replaceChild(t,e)}))}))},"object"==r(t)&&t.exports&&(t.exports=o,t.exports.u=o)},5733:t=>{t.exports=function(t,e,n){return t==e?n.fn(this):n.inverse(this)}},885:(t,e,n)=>{var r=n(8049);function o(t){return t&&(t.__esModule?t.default:t)}t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return null!=(i=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"each").call(null!=e?e:t.nullContext||{},e,{name:"each",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o,loc:{start:{line:12,column:10},end:{line:20,column:19}}}))?i:""},2:function(t,e,r,i,a){var u,s=t.lambda,l=t.escapeExpression,c=null!=e?e:t.nullContext||{},f=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <tr class="striped--light-gray ">\n                <td class="pv2-ns pv1 ph3-ns ph1"><a class="no-underline fancy-link relative black-70 hover-light-red" href="'+l(s(null!=e?f(e,"url"):e,e))+'" target="_blank">'+l(s(null!=e?f(e,"route"):e,e))+'</a></td>\n                <td class="pv2-ns pv1 ph3-ns ph1">'+l(s(null!=e?f(e,"rating"):e,e))+'</td>\n                <td class="pv2-ns pv1 ph3-ns ph1">'+l(s(null!=e?f(e,"type"):e,e))+'</td>\n                <td class="pv2-ns pv1 ph3-ns ph1">'+(null!=(u=o(n(5733)).call(c,null!=e?f(e,"style"):e,"Unknown",{name:"ifEquals",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a,loc:{start:{line:17,column:50},end:{line:17,column:155}}}))?u:"")+l(s(null!=e?f(e,"style"):e,e))+(null!=(u=o(n(5733)).call(c,null!=e?f(e,"style"):e,"Unknown",{name:"ifEquals",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a,loc:{start:{line:17,column:169},end:{line:17,column:224}}}))?u:"")+'</td>\n                <td class="pv2-ns pv1 ph3-ns ph1">'+l(s(null!=e?f(e,"date"):e,e))+"</td>\n            </tr>\n"},3:function(t,e,n,r,o){return'<span class="f7 br-pill ba ph2 pv1 dib bg-washed-red red">'},5:function(t,e,n,r,o){return"</span>"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,o){var i,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<h2 class="tc">Selected Routes</h2>\n<table class="collapse ba br2 b--black-10 center pv2 ph3 f6-ns f7">\n    <tbody>\n        <tr class="striped--light-gray ">\n            <th class="tl ttu fw6 pv2-ns pv1 ph3-ns ph1">Route</th>\n            <th class="tl ttu fw6 pv2-ns pv1 ph3-ns ph1">Rating</th>\n            <th class="tl ttu fw6 pv2-ns pv1 ph3-ns ph1">Type</th>\n            <th class="tl ttu fw6 pv2-ns pv1 ph3-ns ph1">Style</th>\n            <th class="tl ttu fw6 pv2-ns pv1 ph3-ns ph1">Date</th>\n        </tr>\n'+(null!=(i=a(n,"each").call(null!=e?e:t.nullContext||{},o&&a(o,"root"),{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:11,column:8},end:{line:21,column:17}}}))?i:"")+'    </tbody>\n</table>\n<hr id="hr-1" class="mw5 p0 mv4 o-70 b0 bt b--light-red light-red bg-light-red">'},useData:!0})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";function t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var e,r,o=(1===(e=t).length&&(r=e,e=function(e,n){return t(r(e),n)}),{left:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)<0?r=i+1:o=i}return r},right:function(t,n,r,o){for(null==r&&(r=0),null==o&&(o=t.length);r<o;){var i=r+o>>>1;e(t[i],n)>0?o=i:r=i+1}return r}});const i=o.right;var a=Array.prototype,u=(a.slice,a.map,Math.sqrt(50)),s=Math.sqrt(10),l=Math.sqrt(2);function c(t,e,n){var r=(e-t)/Math.max(0,n),o=Math.floor(Math.log(r)/Math.LN10),i=r/Math.pow(10,o);return o>=0?(i>=u?10:i>=s?5:i>=l?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=u?10:i>=s?5:i>=l?2:1)}function f(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((e-t)/n)),i=new Array(o);++r<o;)i[r]=t+r*n;return i}var h=Array.prototype.slice;function p(t){return t}var d=1e-6;function y(t){return"translate("+(t+.5)+",0)"}function m(t){return"translate(0,"+(t+.5)+")"}function v(t){return function(e){return+t(e)}}function g(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function b(){return!this.__axis}function w(t,e){var n=[],r=null,o=null,i=6,a=6,u=3,s=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",c=1===t||3===t?y:m;function f(f){var h=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,y=null==o?e.tickFormat?e.tickFormat.apply(e,n):p:o,m=Math.max(i,0)+u,w=e.range(),_=+w[0]+.5,x=+w[w.length-1]+.5,k=(e.bandwidth?g:v)(e.copy()),S=f.selection?f.selection():f,E=S.selectAll(".domain").data([null]),M=S.selectAll(".tick").data(h,e).order(),O=M.exit(),A=M.enter().append("g").attr("class","tick"),N=M.select("line"),C=M.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),N=N.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",s*i)),C=C.merge(A.append("text").attr("fill","currentColor").attr(l,s*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),f!==S&&(E=E.transition(f),M=M.transition(f),N=N.transition(f),C=C.transition(f),O=O.transition(f).attr("opacity",d).attr("transform",(function(t){return isFinite(t=k(t))?c(t):this.getAttribute("transform")})),A.attr("opacity",d).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:k(t))}))),O.remove(),E.attr("d",4===t||2==t?a?"M"+s*a+","+_+"H0.5V"+x+"H"+s*a:"M0.5,"+_+"V"+x:a?"M"+_+","+s*a+"V0.5H"+x+"V"+s*a:"M"+_+",0.5H"+x),M.attr("opacity",1).attr("transform",(function(t){return c(k(t))})),N.attr(l+"2",s*i),C.attr(l,s*m).text(y),S.filter(b).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),S.each((function(){this.__axis=k}))}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=h.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:h.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:h.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(o=t,f):o},f.tickSize=function(t){return arguments.length?(i=a=+t,f):i},f.tickSizeInner=function(t){return arguments.length?(i=+t,f):i},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(u=+t,f):u},f}function _(t){return w(3,t)}function x(){}function k(t){return null==t?x:function(){return this.querySelector(t)}}function S(){return[]}function E(t){return null==t?S:function(){return this.querySelectorAll(t)}}function M(t){return function(){return this.matches(t)}}function O(t){return new Array(t.length)}function A(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}A.prototype={constructor:A,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function N(t,e,n,r,o,i){for(var a,u=0,s=e.length,l=i.length;u<l;++u)(a=e[u])?(a.__data__=i[u],r[u]=a):n[u]=new A(t,i[u]);for(;u<s;++u)(a=e[u])&&(o[u]=a)}function C(t,e,n,r,o,i,a){var u,s,l,c={},f=e.length,h=i.length,p=new Array(f);for(u=0;u<f;++u)(s=e[u])&&(p[u]=l="$"+a.call(s,s.__data__,u,e),l in c?o[u]=s:c[l]=s);for(u=0;u<h;++u)(s=c[l="$"+a.call(t,i[u],u,i)])?(r[u]=s,s.__data__=i[u],c[l]=null):n[u]=new A(t,i[u]);for(u=0;u<f;++u)(s=e[u])&&c[p[u]]===s&&(o[u]=s)}function P(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var j="http://www.w3.org/1999/xhtml";const R={svg:"http://www.w3.org/2000/svg",xhtml:j,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),R.hasOwnProperty(e)?{space:R[e],local:t}:t}function L(t){return function(){this.removeAttribute(t)}}function I(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B(t,e){return function(){this.setAttribute(t,e)}}function F(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function D(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function H(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function q(t){return function(){this.style.removeProperty(t)}}function V(t,e,n){return function(){this.style.setProperty(t,e,n)}}function z(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function X(t,e){return t.style.getPropertyValue(e)||H(t).getComputedStyle(t,null).getPropertyValue(e)}function J(t){return function(){delete this[t]}}function $(t,e){return function(){this[t]=e}}function Y(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function K(t){return t.trim().split(/^|\s+/)}function W(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=K(t.getAttribute("class")||"")}function Z(t,e){for(var n=W(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function Q(t,e){for(var n=W(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function tt(t){return function(){Z(this,t)}}function et(t){return function(){Q(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?Z:Q)(this,t)}}function rt(){this.textContent=""}function ot(t){return function(){this.textContent=t}}function it(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function at(){this.innerHTML=""}function ut(t){return function(){this.innerHTML=t}}function st(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ft(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===j&&e.documentElement.namespaceURI===j?e.createElement(t):e.createElementNS(n,t)}}function ht(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function pt(t){var e=T(t);return(e.local?ht:ft)(e)}function dt(){return null}function yt(){var t=this.parentNode;t&&t.removeChild(this)}function mt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var gt={},bt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(gt={mouseenter:"mouseover",mouseleave:"mouseout"}));function wt(t,e,n){return t=_t(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function _t(t,e,n){return function(r){var o=bt;bt=r;try{t.call(this,this.__data__,e,n)}finally{bt=o}}}function xt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function kt(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function St(t,e,n){var r=gt.hasOwnProperty(t.type)?wt:_t;return function(o,i,a){var u,s=this.__on,l=r(e,i,a);if(s)for(var c=0,f=s.length;c<f;++c)if((u=s[c]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=l,u.capture=n),void(u.value=e);this.addEventListener(t.type,l,n),u={type:t.type,name:t.name,value:e,listener:l,capture:n},s?s.push(u):this.__on=[u]}}function Et(t,e,n){var r=H(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Mt(t,e){return function(){return Et(this,t,e)}}function Ot(t,e){return function(){return Et(this,t,e.apply(this,arguments))}}var At=[null];function Nt(t,e){this._groups=t,this._parents=e}function Ct(){return new Nt([[document.documentElement]],At)}Nt.prototype=Ct.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=k(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,u=e[o],s=u.length,l=r[o]=new Array(s),c=0;c<s;++c)(i=u[c])&&(a=t.call(i,i.__data__,c,u))&&("__data__"in i&&(a.__data__=i.__data__),l[c]=a);return new Nt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,u=e[i],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),o.push(a));return new Nt(r,o)},filter:function(t){"function"!=typeof t&&(t=M(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,s=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&s.push(i);return new Nt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each((function(t){p[++l]=t})),p;var n=e?C:N,r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,a=new Array(i),u=new Array(i),s=new Array(i),l=0;l<i;++l){var c=r[l],f=o[l],h=f.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,y=u[l]=new Array(d),m=a[l]=new Array(d);n(c,f,y,m,s[l]=new Array(h),p,e);for(var v,g,b=0,w=0;b<d;++b)if(v=y[b]){for(b>=w&&(w=b+1);!(g=m[w])&&++w<d;);v._next=g||null}}return(a=new Nt(a,r))._enter=u,a._exit=s,a},enter:function(){return new Nt(this._enter||this._groups.map(O),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(O),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new Nt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=P);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,u=n[i],s=u.length,l=o[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new Nt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,u=i.length;a<u;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=T(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?I:L:"function"==typeof e?n.local?U:D:n.local?F:B)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?q:"function"==typeof e?z:V)(t,e,null==n?"":n)):X(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?J:"function"==typeof e?Y:$)(t,e)):this.node()[t]},classed:function(t,e){var n=K(t+"");if(arguments.length<2){for(var r=W(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},text:function(t){return arguments.length?this.each(null==t?rt:("function"==typeof t?it:ot)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?st:ut)(t)):this.node().innerHTML},raise:function(){return this.each(lt)},lower:function(){return this.each(ct)},append:function(t){var e="function"==typeof t?t:pt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:pt(t),r=null==e?dt:"function"==typeof e?e:k(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(yt)},clone:function(t){return this.select(t?vt:mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=xt(t+""),a=i.length;if(!(arguments.length<2)){for(u=e?St:kt,null==n&&(n=!1),r=0;r<a;++r)this.each(u(i[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((o=i[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ot:Mt)(t,e))}};const Pt=Ct;var jt={value:function(){}};function Rt(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Tt(r)}function Tt(t){this._=t}function Lt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function It(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function Bt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=jt,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Tt.prototype=Rt.prototype={constructor:Tt,on:function(t,e){var n,r=this._,o=Lt(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=Bt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Bt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=It(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Tt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};const Ft=Rt;function Dt(t){return Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dt(t)}var Ut,Ht,qt=0,Vt=0,zt=0,Xt=0,Jt=0,$t=0,Yt="object"===("undefined"==typeof performance?"undefined":Dt(performance))&&performance.now?performance:Date,Kt="object"===("undefined"==typeof window?"undefined":Dt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wt(){return Jt||(Kt(Gt),Jt=Yt.now()+$t)}function Gt(){Jt=0}function Zt(){this._call=this._time=this._next=null}function Qt(t,e,n){var r=new Zt;return r.restart(t,e,n),r}function te(){Jt=(Xt=Yt.now())+$t,qt=Vt=0;try{!function(){Wt(),++qt;for(var t,e=Ut;e;)(t=Jt-e._time)>=0&&e._call.call(null,t),e=e._next;--qt}()}finally{qt=0,function(){var t,e,n=Ut,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ut=e);Ht=t,ne(r)}(),Jt=0}}function ee(){var t=Yt.now(),e=t-Xt;e>1e3&&($t-=e,Xt=t)}function ne(t){qt||(Vt&&(Vt=clearTimeout(Vt)),t-Jt>24?(t<1/0&&(Vt=setTimeout(te,t-Yt.now()-$t)),zt&&(zt=clearInterval(zt))):(zt||(Xt=Yt.now(),zt=setInterval(ee,1e3)),qt=1,Kt(te)))}function re(t,e,n){var r=new Zt;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Zt.prototype=Qt.prototype={constructor:Zt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Wt():+n)+(null==e?0:+e),this._next||Ht===this||(Ht?Ht._next=this:Ut=this,Ht=this),this._call=t,this._time=n,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var oe=Ft("start","end","cancel","interrupt"),ie=[];function ae(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var l,c,f,h;if(1!==n.state)return s();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return re(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[l])}if(re((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function u(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=Qt(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:oe,tween:ie,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function ue(t,e){var n=le(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function se(t,e){var n=le(t,e);if(n.state>3)throw new Error("too late; already running");return n}function le(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ce(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var fe,he,pe,de,ye=180/Math.PI,me={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ve(t,e,n,r,o,i){var a,u,s;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),t*r<e*n&&(t=-t,e=-e,s=-s,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*ye,skewX:Math.atan(s)*ye,scaleX:a,scaleY:u}}function ge(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var u=[],s=[];return i=t(i),a=t(a),function(t,r,o,i,a,u){if(t!==o||r!==i){var s=a.push("translate(",null,e,null,n);u.push({i:s-4,x:ce(t,o)},{i:s-2,x:ce(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,u,s),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:ce(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,u,s),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:ce(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,u,s),function(t,e,n,r,i,a){if(t!==n||e!==r){var u=i.push(o(i)+"scale(",null,",",null,")");a.push({i:u-4,x:ce(t,n)},{i:u-2,x:ce(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,u,s),i=a=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}}var be=ge((function(t){return"none"===t?me:(fe||(fe=document.createElement("DIV"),he=document.documentElement,pe=document.defaultView),fe.style.transform=t,t=pe.getComputedStyle(he.appendChild(fe),null).getPropertyValue("transform"),he.removeChild(fe),ve(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),we=ge((function(t){return null==t?me:(de||(de=document.createElementNS("http://www.w3.org/2000/svg","g")),de.setAttribute("transform",t),(t=de.transform.baseVal.consolidate())?ve((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):me)}),", ",")",")");function _e(t,e){var n,r;return function(){var o=se(this,t),i=o.tween;if(i!==n)for(var a=0,u=(r=n=i).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function xe(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=se(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var u={name:e,value:n},s=0,l=o.length;s<l;++s)if(o[s].name===e){o[s]=u;break}s===l&&o.push(u)}i.tween=o}}function ke(t,e,n){var r=t._id;return t.each((function(){var t=se(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return le(t,r).value[e]}}function Se(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Me(){}var Oe=.7,Ae=1/Oe,Ne="\\s*([+-]?\\d+)\\s*",Ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",je=/^#([0-9a-f]{3,8})$/,Re=new RegExp("^rgb\\("+[Ne,Ne,Ne]+"\\)$"),Te=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),Le=new RegExp("^rgba\\("+[Ne,Ne,Ne,Ce]+"\\)$"),Ie=new RegExp("^rgba\\("+[Pe,Pe,Pe,Ce]+"\\)$"),Be=new RegExp("^hsl\\("+[Ce,Pe,Pe]+"\\)$"),Fe=new RegExp("^hsla\\("+[Ce,Pe,Pe,Ce]+"\\)$"),De={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ue(){return this.rgb().formatHex()}function He(){return this.rgb().formatRgb()}function qe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=je.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ve(e):3===n?new $e(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ze(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ze(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Re.exec(t))?new $e(e[1],e[2],e[3],1):(e=Te.exec(t))?new $e(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Le.exec(t))?ze(e[1],e[2],e[3],e[4]):(e=Ie.exec(t))?ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Be.exec(t))?Ge(e[1],e[2]/100,e[3]/100,1):(e=Fe.exec(t))?Ge(e[1],e[2]/100,e[3]/100,e[4]):De.hasOwnProperty(t)?Ve(De[t]):"transparent"===t?new $e(NaN,NaN,NaN,0):null}function Ve(t){return new $e(t>>16&255,t>>8&255,255&t,1)}function ze(t,e,n,r){return r<=0&&(t=e=n=NaN),new $e(t,e,n,r)}function Xe(t){return t instanceof Me||(t=qe(t)),t?new $e((t=t.rgb()).r,t.g,t.b,t.opacity):new $e}function Je(t,e,n,r){return 1===arguments.length?Xe(t):new $e(t,e,n,null==r?1:r)}function $e(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Ye(){return"#"+We(this.r)+We(this.g)+We(this.b)}function Ke(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function We(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ge(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qe(t,e,n,r)}function Ze(t){if(t instanceof Qe)return new Qe(t.h,t.s,t.l,t.opacity);if(t instanceof Me||(t=qe(t)),!t)return new Qe;if(t instanceof Qe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,u=i-o,s=(i+o)/2;return u?(a=e===i?(n-r)/u+6*(n<r):n===i?(r-e)/u+2:(e-n)/u+4,u/=s<.5?i+o:2-i-o,a*=60):u=s>0&&s<1?0:a,new Qe(a,u,s,t.opacity)}function Qe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function en(t,e,n,r,o){var i=t*t,a=i*t;return((1-3*t+3*i-a)*e+(4-6*i+3*a)*n+(1+3*t+3*i-3*a)*r+a*o)/6}function nn(t){return function(){return t}}function rn(t,e){return function(n){return t+n*e}}function on(t){return 1==(t=+t)?an:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):nn(isNaN(e)?n:e)}}function an(t,e){var n=e-t;return n?rn(t,n):nn(isNaN(t)?e:t)}Se(Me,qe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ue,formatHex:Ue,formatHsl:function(){return Ze(this).formatHsl()},formatRgb:He,toString:He}),Se($e,Je,Ee(Me,{brighter:function(t){return t=null==t?Ae:Math.pow(Ae,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new $e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ye,formatHex:Ye,formatRgb:Ke,toString:Ke})),Se(Qe,(function(t,e,n,r){return 1===arguments.length?Ze(t):new Qe(t,e,n,null==r?1:r)}),Ee(Me,{brighter:function(t){return t=null==t?Ae:Math.pow(Ae,t),new Qe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new Qe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new $e(tn(t>=240?t-240:t+120,o,r),tn(t,o,r),tn(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const un=function t(e){var n=on(e);function r(t,e){var r=n((t=Je(t)).r,(e=Je(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=an(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function sn(t){return function(e){var n,r,o=e.length,i=new Array(o),a=new Array(o),u=new Array(o);for(n=0;n<o;++n)r=Je(e[n]),i[n]=r.r||0,a[n]=r.g||0,u[n]=r.b||0;return i=t(i),a=t(a),u=t(u),r.opacity=1,function(t){return r.r=i(t),r.g=a(t),r.b=u(t),r+""}}}sn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],i=t[r+1],a=r>0?t[r-1]:2*o-i,u=r<e-1?t[r+2]:2*i-o;return en((n-r/e)*e,a,o,i,u)}})),sn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],i=t[r%e],a=t[(r+1)%e],u=t[(r+2)%e];return en((n-r/e)*e,o,i,a,u)}}));var ln=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cn=new RegExp(ln.source,"g");function fn(t,e){var n,r,o,i=ln.lastIndex=cn.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=ln.exec(t))&&(r=cn.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),u[a]?u[a]+=o:u[++a]=o),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ce(n,r)})),i=cn.lastIndex;return i<e.length&&(o=e.slice(i),u[a]?u[a]+=o:u[++a]=o),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function hn(t,e){var n;return("number"==typeof e?ce:e instanceof qe?un:(n=qe(e))?(e=n,un):fn)(t,e)}function pn(t){return function(){this.removeAttribute(t)}}function dn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function yn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function mn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function vn(t,e,n){var r,o,i;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===o?i:(o=u,i=e(r=a,s));this.removeAttribute(t)}}function gn(t,e,n){var r,o,i;return function(){var a,u,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===o?i:(o=u,i=e(r=a,s));this.removeAttributeNS(t.space,t.local)}}function bn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _n(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wn(t,o)),n}return o._value=e,o}function xn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&bn(t,o)),n}return o._value=e,o}function kn(t,e){return function(){ue(this,t).delay=+e.apply(this,arguments)}}function Sn(t,e){return e=+e,function(){ue(this,t).delay=e}}function En(t,e){return function(){se(this,t).duration=+e.apply(this,arguments)}}function Mn(t,e){return e=+e,function(){se(this,t).duration=e}}function On(t,e){if("function"!=typeof e)throw new Error;return function(){se(this,t).ease=e}}function An(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?ue:se;return function(){var a=i(this,t),u=a.on;u!==r&&(o=(r=u).copy()).on(e,n),a.on=o}}var Nn=Pt.prototype.constructor;function Cn(t){return function(){this.style.removeProperty(t)}}function Pn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function jn(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&Pn(t,i,n)),r}return i._value=e,i}function Rn(t){return function(e){this.textContent=t.call(this,e)}}function Tn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Rn(r)),e}return r._value=t,r}var Ln=0;function In(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Bn(){return++Ln}var Fn=Pt.prototype;In.prototype=function(t){return Pt().transition(t)}.prototype={constructor:In,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=k(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var u,s,l=r[a],c=l.length,f=i[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,ae(f[h],e,n,h,f,le(u,n)));return new In(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=E(t));for(var r=this._groups,o=r.length,i=[],a=[],u=0;u<o;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),d=le(s,n),y=0,m=p.length;y<m;++y)(h=p[y])&&ae(h,e,n,y,p,d);i.push(p),a.push(s)}return new In(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=M(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],u=a.length,s=r[o]=[],l=0;l<u;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&s.push(i);return new In(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),u=0;u<i;++u)for(var s,l=e[u],c=n[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=e[u];return new In(a,this._parents,this._name,this._id)},selection:function(){return new Nn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Bn(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=le(a,e);ae(a,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new In(r,this._parents,t,n)},call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:function(t,e){var n=this._id;return arguments.length<2?le(this.node(),n).on.on(t):this.each(An(n,t,e))},attr:function(t,e){var n=T(t),r="transform"===n?we:hn;return this.attrTween(t,"function"==typeof e?(n.local?gn:vn)(n,r,ke(this,"attr."+t,e)):null==e?(n.local?dn:pn)(n):(n.local?mn:yn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=T(t);return this.tween(n,(r.local?_n:xn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?be:hn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=X(this,t),a=(this.style.removeProperty(t),X(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Cn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=X(this,t),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=X(this,t)),a===s?null:a===r&&s===o?i:(o=s,i=e(r=a,u))}}(t,r,ke(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,u="end."+a;return function(){var s=se(this,t),l=s.on,c=null==s.value[a]?i||(i=Cn(e)):void 0;l===n&&o===c||(r=(n=l).copy()).on(u,o=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=X(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,jn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ke(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Tn(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=le(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?_e:xe)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?kn:Sn)(e,t)):le(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?En:Mn)(e,t)):le(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(On(e,t)):le(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var u={value:a},s={value:function(){0==--o&&i()}};n.each((function(){var n=se(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(s)),n.on=e}))}))}};var Dn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Un(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Dn.time=Wt(),Dn;return n}Pt.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}(this,t)}))},Pt.prototype.transition=function(t){var e,n;t instanceof In?(e=t._id,t=t._name):(e=Bn(),(n=Dn).time=Wt(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,u=r[i],s=u.length,l=0;l<s;++l)(a=u[l])&&ae(a,t,e,l,u,n||Un(a,e));return new In(r,this._parents,t,e)};function Hn(t){return[+t[0],+t[1]]}function qn(t){return[Hn(t[0]),Hn(t[1])]}["w","e"].map(Vn),["n","s"].map(Vn),["n","w","e","s","nw","ne","sw","se"].map(Vn);function Vn(t){return{type:t}}Math.cos,Math.sin,Math.PI,Math.max;Array.prototype.slice;var zn="$";function Xn(){}function Jn(t,e){var n=new Xn;if(t instanceof Xn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Xn.prototype=Jn.prototype={constructor:Xn,has:function(t){return zn+t in this},get:function(t){return this[zn+t]},set:function(t,e){return this[zn+t]=e,this},remove:function(t){var e=zn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===zn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===zn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===zn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===zn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===zn&&++t;return t},empty:function(){for(var t in this)if(t[0]===zn)return!1;return!0},each:function(t){for(var e in this)e[0]===zn&&t(this[e],e.slice(1),this)}};const $n=Jn;function Yn(){}var Kn=$n.prototype;function Wn(t,e){var n=new Yn;if(t instanceof Yn)t.each((function(t){n.add(t)}));else if(t){var r=-1,o=t.length;if(null==e)for(;++r<o;)n.add(t[r]);else for(;++r<o;)n.add(e(t[r],r,t))}return n}Yn.prototype=Wn.prototype={constructor:Yn,has:Kn.has,add:function(t){return this[zn+(t+="")]=t,this},remove:Kn.remove,clear:Kn.clear,values:Kn.keys,size:Kn.size,empty:Kn.empty,each:Kn.each};Array.prototype.slice;Math.PI,Math.sqrt(5);function Gn(){return Math.random()}(function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n})(Gn);const Zn=function t(e){function n(t,n){var r,o;return t=null==t?0:+t,n=null==n?1:+n,function(){var i;if(null!=r)i=r,r=null;else do{r=2*e()-1,i=2*e()-1,o=r*r+i*i}while(!o||o>1);return t+n*i*Math.sqrt(-2*Math.log(o)/o)}}return n.source=t,n}(Gn),Qn=(function t(e){function n(){var t=Zn.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Gn),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Gn));(function t(e){function n(t){var n=Qn.source(e)(t);return function(){return n()/t}}return n.source=t,n})(Gn),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Gn);function tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var er=Array.prototype,nr=er.map,rr=er.slice,or={name:"implicit"};function ir(){var t=$n(),e=[],n=[],r=or;function o(o){var i=o+"",a=t.get(i);if(!a){if(r!==or)return r;t.set(i,a=e.push(o))}return n[(a-1)%n.length]}return o.domain=function(n){if(!arguments.length)return e.slice();e=[],t=$n();for(var r,i,a=-1,u=n.length;++a<u;)t.has(i=(r=n[a])+"")||t.set(i,e.push(r));return o},o.range=function(t){return arguments.length?(n=rr.call(t),o):n.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return ir(e,n).unknown(r)},tr.apply(o,arguments),o}function ar(){var t,e,n=ir().unknown(void 0),r=n.domain,o=n.range,i=[0,1],a=!1,u=0,s=0,l=.5;function c(){var n=r().length,c=i[1]<i[0],h=i[c-0],p=i[1-c];t=(p-h)/Math.max(1,n-u+2*s),a&&(t=Math.floor(t)),h+=(p-h-t*(n-u))*l,e=t*(1-u),a&&(h=Math.round(h),e=Math.round(e));var d=f(n).map((function(e){return h+t*e}));return o(c?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),c()):r()},n.range=function(t){return arguments.length?(i=[+t[0],+t[1]],c()):i.slice()},n.rangeRound=function(t){return i=[+t[0],+t[1]],a=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,c()):a},n.padding=function(t){return arguments.length?(u=Math.min(1,s=+t),c()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),c()):u},n.paddingOuter=function(t){return arguments.length?(s=+t,c()):s},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),c()):l},n.copy=function(){return ar(r(),i).round(a).paddingInner(u).paddingOuter(s).align(l)},tr.apply(c(),arguments)}function ur(t,e){var n,r=e?e.length:0,o=t?Math.min(r,t.length):0,i=new Array(o),a=new Array(r);for(n=0;n<o;++n)i[n]=pr(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<o;++n)a[n]=i[n](t);return a}}function sr(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function cr(t,e){var n,r={},o={};for(n in null!==t&&"object"===lr(t)||(t={}),null!==e&&"object"===lr(e)||(e={}),e)n in t?r[n]=pr(t[n],e[n]):o[n]=e[n];return function(t){for(n in r)o[n]=r[n](t);return o}}function fr(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,o=e.slice();return function(i){for(n=0;n<r;++n)o[n]=t[n]*(1-i)+e[n]*i;return o}}function hr(t){return hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hr(t)}function pr(t,e){var n,r=hr(e);return null==e||"boolean"===r?nn(e):("number"===r?ce:"string"===r?(n=qe(e))?(e=n,un):fn:e instanceof qe?un:e instanceof Date?sr:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?fr:Array.isArray(e)?ur:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?cr:ce)(t,e)}function dr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yr(t){return+t}var mr=[0,1];function vr(t){return t}function gr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function br(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function wr(t,e,n){var r=t[0],o=t[1],i=e[0],a=e[1];return o<r?(r=gr(o,r),i=n(a,i)):(r=gr(r,o),i=n(i,a)),function(t){return i(r(t))}}function _r(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),a=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)o[u]=gr(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(e){var n=i(t,e,1,r)-1;return a[n](o[n](e))}}function xr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function kr(t,e){return function(){var t,e,n,r,o,i,a=mr,u=mr,s=pr,l=vr;function c(){return r=Math.min(a.length,u.length)>2?_r:wr,o=i=null,f}function f(e){return isNaN(e=+e)?n:(o||(o=r(a.map(t),u,s)))(t(l(e)))}return f.invert=function(n){return l(e((i||(i=r(u,a.map(t),ce)))(n)))},f.domain=function(t){return arguments.length?(a=nr.call(t,yr),l===vr||(l=br(a)),c()):a.slice()},f.range=function(t){return arguments.length?(u=rr.call(t),c()):u.slice()},f.rangeRound=function(t){return u=rr.call(t),s=dr,c()},f.clamp=function(t){return arguments.length?(l=t?br(a):vr,f):l!==vr},f.interpolate=function(t){return arguments.length?(s=t,c()):s},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,c()}}()(t,e)}var Sr,Er=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mr(t){if(!(e=Er.exec(t)))throw new Error("invalid format: "+t);var e;return new Or({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Or(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ar(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nr(t){return(t=Ar(Math.abs(t)))?t[1]:NaN}function Cr(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}Mr.prototype=Or.prototype,Or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Pr={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Cr(100*t,e)},r:Cr,s:function(t,e){var n=Ar(t,e);if(!n)return t+"";var r=n[0],o=n[1],i=o-(Sr=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,a=r.length;return i===a?r:i>a?r+new Array(i-a+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ar(t,Math.max(0,e+i-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function jr(t){return t}var Rr,Tr,Lr,Ir=Array.prototype.map,Br=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?jr:(e=Ir.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var o=t.length,i=[],a=0,u=e[0],s=0;o>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),i.push(t.substring(o-=u,o+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return i.reverse().join(n)}),o=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?jr:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ir.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"-":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=Mr(t)).fill,n=t.align,f=t.sign,h=t.symbol,p=t.zero,d=t.width,y=t.comma,m=t.precision,v=t.trim,g=t.type;"n"===g?(y=!0,g="g"):Pr[g]||(void 0===m&&(m=12),v=!0,g="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var b="$"===h?o:"#"===h&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",w="$"===h?i:/[%p]/.test(g)?s:"",_=Pr[g],x=/[defgprs%]/.test(g);function k(t){var o,i,s,h=b,k=w;if("c"===g)k=_(t)+k,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:_(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,o=-1;r<n;++r)switch(t[r]){case".":o=e=r;break;case"0":0===o&&(o=r),e=r;break;default:if(!+t[r])break t;o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(e+1):t}(t)),S&&0==+t&&"+"!==f&&(S=!1),h=(S?"("===f?f:l:"-"===f||"("===f?"":f)+h,k=("s"===g?Br[8+Sr/3]:"")+k+(S&&"("===f?")":""),x)for(o=-1,i=t.length;++o<i;)if(48>(s=t.charCodeAt(o))||s>57){k=(46===s?a+t.slice(o+1):t.slice(o))+k,t=t.slice(0,o);break}}y&&!p&&(t=r(t,1/0));var E=h.length+t.length+k.length,M=E<d?new Array(d-E+1).join(e):"";switch(y&&p&&(t=r(M+t,M.length?d-k.length:1/0),M=""),n){case"<":t=h+t+k+M;break;case"=":t=h+M+t+k;break;case"^":t=M.slice(0,E=M.length>>1)+h+t+k+M.slice(E);break;default:t=M+h+t+k}return u(t)}return m=void 0===m?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=Mr(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Nr(e)/3))),o=Math.pow(10,-r),i=Br[8+r/3];return function(t){return n(o*t)+i}}}}function Dr(t,e,n,r){var o,i=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),i=r/o;return i>=u?o*=10:i>=s?o*=5:i>=l&&(o*=2),e<t?-o:o}(t,e,n);switch((r=Mr(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nr(e)/3)))-Nr(Math.abs(t)))}(i,a))||(r.precision=o),Lr(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nr(e)-Nr(t))+1}(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=function(t){return Math.max(0,-Nr(Math.abs(t)))}(i))||(r.precision=o-2*("%"===r.type))}return Tr(r)}function Ur(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,o,i,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(o=t,t=e,e=o),0===(a=c(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),i=new Array(o=Math.ceil(e-t+1));++u<o;)i[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),i=new Array(o=Math.ceil(t-e+1));++u<o;)i[u]=(t-u)/a;return r&&i.reverse(),i}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Dr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),i=0,a=o.length-1,u=o[i],s=o[a];return s<u&&(r=u,u=s,s=r,r=i,i=a,a=r),(r=c(u,s,n))>0?r=c(u=Math.floor(u/r)*r,s=Math.ceil(s/r)*r,n):r<0&&(r=c(u=Math.ceil(u*r)/r,s=Math.floor(s*r)/r,n)),r>0?(o[i]=Math.floor(u/r)*r,o[a]=Math.ceil(s/r)*r,e(o)):r<0&&(o[i]=Math.ceil(u*r)/r,o[a]=Math.floor(s*r)/r,e(o)),t},t}function Hr(){var t=kr(vr,vr);return t.copy=function(){return xr(t,Hr())},tr.apply(t,arguments),Ur(t)}Rr=Fr({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),Tr=Rr.format,Lr=Rr.formatPrefix;var qr=Array.prototype.slice;function Vr(t){return function(){return t}}function zr(t,e){if((o=t.length)>1)for(var n,r,o,i=1,a=t[e[0]],u=a.length;i<o;++i)for(r=a,a=t[e[i]],n=0;n<u;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Xr(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Jr(t,e){return t[e]}function $r(){var t=Vr([]),e=Xr,n=zr,r=Jr;function o(o){var i,a,u=t.apply(this,arguments),s=o.length,l=u.length,c=new Array(l);for(i=0;i<l;++i){for(var f,h=u[i],p=c[i]=new Array(s),d=0;d<s;++d)p[d]=f=[0,+r(o[d],h,d,o)],f.data=o[d];p.key=h}for(i=0,a=e(c);i<l;++i)c[a[i]].index=i;return n(c,a),c}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:Vr(qr.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:Vr(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?Xr:"function"==typeof t?t:Vr(qr.call(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?zr:t,o):n},o}function Yr(){this._=null}function Kr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Wr(t,e){var n=e,r=e.R,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Gr(t,e){var n=e,r=e.L,o=n.U;o?o.L===n?o.L=r:o.R=r:t._=r,r.U=o,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Zr(t){for(;t.L;)t=t.L;return t}Yr.prototype={constructor:Yr,insert:function(t,e){var n,r,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Zr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(o=r.R)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.R&&(Wr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Gr(this,r)):(o=r.L)&&o.C?(n.C=o.C=!1,r.C=!0,t=r):(t===n.L&&(Gr(this,n),n=(t=n).U),n.C=!1,r.C=!0,Wr(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,o=t.U,i=t.L,a=t.R;if(n=i?a?Zr(a):i:a,o?o.L===t?o.L=n:o.R=n:this._=n,i&&a?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==a?(o=n.U,n.U=t.U,t=n.R,o.L=t,n.R=a,a.U=n):(n.U=o,o=n,t=n.R)):(r=t.C,t=n),t&&(t.U=o),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,Wr(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Gr(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,Wr(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,Gr(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Wr(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,Gr(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};const Qr=Yr;function to(t,e,n,r){var o=[null,null],i=Eo.push(o)-1;return o.left=t,o.right=e,n&&no(o,t,e,n),r&&no(o,e,t,r),ko[t.index].halfedges.push(i),ko[e.index].halfedges.push(i),o}function eo(t,e,n){var r=[e,n];return r.left=t,r}function no(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function ro(t,e,n,r,o){var i,a=t[0],u=t[1],s=a[0],l=a[1],c=0,f=1,h=u[0]-s,p=u[1]-l;if(i=e-s,h||!(i>0)){if(i/=h,h<0){if(i<c)return;i<f&&(f=i)}else if(h>0){if(i>f)return;i>c&&(c=i)}if(i=r-s,h||!(i<0)){if(i/=h,h<0){if(i>f)return;i>c&&(c=i)}else if(h>0){if(i<c)return;i<f&&(f=i)}if(i=n-l,p||!(i>0)){if(i/=p,p<0){if(i<c)return;i<f&&(f=i)}else if(p>0){if(i>f)return;i>c&&(c=i)}if(i=o-l,p||!(i<0)){if(i/=p,p<0){if(i>f)return;i>c&&(c=i)}else if(p>0){if(i<c)return;i<f&&(f=i)}return!(c>0||f<1)||(c>0&&(t[0]=[s+c*h,l+c*p]),f<1&&(t[1]=[s+f*h,l+f*p]),!0)}}}}}function oo(t,e,n,r,o){var i=t[1];if(i)return!0;var a,u,s=t[0],l=t.left,c=t.right,f=l[0],h=l[1],p=c[0],d=c[1],y=(f+p)/2,m=(h+d)/2;if(d===h){if(y<e||y>=r)return;if(f>p){if(s){if(s[1]>=o)return}else s=[y,n];i=[y,o]}else{if(s){if(s[1]<n)return}else s=[y,o];i=[y,n]}}else if(u=m-(a=(f-p)/(d-h))*y,a<-1||a>1)if(f>p){if(s){if(s[1]>=o)return}else s=[(n-u)/a,n];i=[(o-u)/a,o]}else{if(s){if(s[1]<n)return}else s=[(o-u)/a,o];i=[(n-u)/a,n]}else if(h<d){if(s){if(s[0]>=r)return}else s=[e,a*e+u];i=[r,a*r+u]}else{if(s){if(s[0]<e)return}else s=[r,a*r+u];i=[e,a*e+u]}return t[0]=s,t[1]=i,!0}function io(t,e){var n=t.site,r=e.left,o=e.right;return n===o&&(o=r,r=n),o?Math.atan2(o[1]-r[1],o[0]-r[0]):(n===r?(r=e[1],o=e[0]):(r=e[0],o=e[1]),Math.atan2(r[0]-o[0],o[1]-r[1]))}function ao(t,e){return e[+(e.left!==t.site)]}function uo(t,e){return e[+(e.left===t.site)]}var so,lo=[];function co(){Kr(this),this.x=this.y=this.arc=this.site=this.cy=null}function fo(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,o=t.site,i=n.site;if(r!==i){var a=o[0],u=o[1],s=r[0]-a,l=r[1]-u,c=i[0]-a,f=i[1]-u,h=2*(s*f-l*c);if(!(h>=-Oo)){var p=s*s+l*l,d=c*c+f*f,y=(f*p-l*d)/h,m=(s*d-c*p)/h,v=lo.pop()||new co;v.arc=t,v.site=o,v.x=y+a,v.y=(v.cy=m+u)+Math.sqrt(y*y+m*m),t.circle=v;for(var g=null,b=So._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){g=b.P;break}b=b.L}else{if(!b.R){g=b;break}b=b.R}So.insert(g,v),g||(so=v)}}}}function ho(t){var e=t.circle;e&&(e.P||(so=e.N),So.remove(e),lo.push(e),Kr(e),t.circle=null)}var po=[];function yo(){Kr(this),this.edge=this.site=this.circle=null}function mo(t){var e=po.pop()||new yo;return e.site=t,e}function vo(t){ho(t),xo.remove(t),po.push(t),Kr(t)}function go(t){var e=t.circle,n=e.x,r=e.cy,o=[n,r],i=t.P,a=t.N,u=[t];vo(t);for(var s=i;s.circle&&Math.abs(n-s.circle.x)<Mo&&Math.abs(r-s.circle.cy)<Mo;)i=s.P,u.unshift(s),vo(s),s=i;u.unshift(s),ho(s);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Mo&&Math.abs(r-l.circle.cy)<Mo;)a=l.N,u.push(l),vo(l),l=a;u.push(l),ho(l);var c,f=u.length;for(c=1;c<f;++c)l=u[c],s=u[c-1],no(l.edge,s.site,l.site,o);s=u[0],(l=u[f-1]).edge=to(s.site,l.site,null,o),fo(s),fo(l)}function bo(t){for(var e,n,r,o,i=t[0],a=t[1],u=xo._;u;)if((r=wo(u,a)-i)>Mo)u=u.L;else{if(!((o=i-_o(u,a))>Mo)){r>-Mo?(e=u.P,n=u):o>-Mo?(e=u,n=u.N):e=n=u;break}if(!u.R){e=u;break}u=u.R}!function(t){ko[t.index]={site:t,halfedges:[]}}(t);var s=mo(t);if(xo.insert(e,s),e||n){if(e===n)return ho(e),n=mo(e.site),xo.insert(s,n),s.edge=n.edge=to(e.site,s.site),fo(e),void fo(n);if(n){ho(e),ho(n);var l=e.site,c=l[0],f=l[1],h=t[0]-c,p=t[1]-f,d=n.site,y=d[0]-c,m=d[1]-f,v=2*(h*m-p*y),g=h*h+p*p,b=y*y+m*m,w=[(m*g-p*b)/v+c,(h*b-y*g)/v+f];no(n.edge,l,d,w),s.edge=to(l,t,null,w),n.edge=to(t,d,null,w),fo(e),fo(n)}else s.edge=to(e.site,s.site)}}function wo(t,e){var n=t.site,r=n[0],o=n[1],i=o-e;if(!i)return r;var a=t.P;if(!a)return-1/0;var u=(n=a.site)[0],s=n[1],l=s-e;if(!l)return u;var c=u-r,f=1/i-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-s+l/2+o-i/2)))/f+r:(r+u)/2}function _o(t,e){var n=t.N;if(n)return wo(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var xo,ko,So,Eo,Mo=1e-6,Oo=1e-12;function Ao(t,e){return e[1]-t[1]||e[0]-t[0]}function No(t,e){var n,r,o,i=t.sort(Ao).pop();for(Eo=[],ko=new Array(t.length),xo=new Qr,So=new Qr;;)if(o=so,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===n&&i[1]===r||(bo(i),n=i[0],r=i[1]),i=t.pop();else{if(!o)break;go(o.arc)}if(function(){for(var t,e,n,r,o=0,i=ko.length;o<i;++o)if((t=ko[o])&&(r=(e=t.halfedges).length)){var a=new Array(r),u=new Array(r);for(n=0;n<r;++n)a[n]=n,u[n]=io(t,Eo[e[n]]);for(a.sort((function(t,e){return u[e]-u[t]})),n=0;n<r;++n)u[n]=e[a[n]];for(n=0;n<r;++n)e[n]=u[n]}}(),e){var a=+e[0][0],u=+e[0][1],s=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var o,i=Eo.length;i--;)oo(o=Eo[i],t,e,n,r)&&ro(o,t,e,n,r)&&(Math.abs(o[0][0]-o[1][0])>Mo||Math.abs(o[0][1]-o[1][1])>Mo)||delete Eo[i]}(a,u,s,l),function(t,e,n,r){var o,i,a,u,s,l,c,f,h,p,d,y,m=ko.length,v=!0;for(o=0;o<m;++o)if(i=ko[o]){for(a=i.site,u=(s=i.halfedges).length;u--;)Eo[s[u]]||s.splice(u,1);for(u=0,l=s.length;u<l;)d=(p=uo(i,Eo[s[u]]))[0],y=p[1],f=(c=ao(i,Eo[s[++u%l]]))[0],h=c[1],(Math.abs(d-f)>Mo||Math.abs(y-h)>Mo)&&(s.splice(u,0,Eo.push(eo(a,p,Math.abs(d-t)<Mo&&r-y>Mo?[t,Math.abs(f-t)<Mo?h:r]:Math.abs(y-r)<Mo&&n-d>Mo?[Math.abs(h-r)<Mo?f:n,r]:Math.abs(d-n)<Mo&&y-e>Mo?[n,Math.abs(f-n)<Mo?h:e]:Math.abs(y-e)<Mo&&d-t>Mo?[Math.abs(h-e)<Mo?f:t,e]:null))-1),++l);l&&(v=!1)}if(v){var g,b,w,_=1/0;for(o=0,v=null;o<m;++o)(i=ko[o])&&(w=(g=(a=i.site)[0]-t)*g+(b=a[1]-e)*b)<_&&(_=w,v=i);if(v){var x=[t,e],k=[t,r],S=[n,r],E=[n,e];v.halfedges.push(Eo.push(eo(a=v.site,x,k))-1,Eo.push(eo(a,k,S))-1,Eo.push(eo(a,S,E))-1,Eo.push(eo(a,E,x))-1)}}for(o=0;o<m;++o)(i=ko[o])&&(i.halfedges.length||delete ko[o])}(a,u,s,l)}this.edges=Eo,this.cells=ko,xo=So=Eo=ko=null}function Co(t,e,n){this.k=t,this.x=e,this.y=n}No.prototype={constructor:No,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return ao(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(i=(o=n.halfedges).length)for(var o,i,a,u,s,l,c=n.site,f=-1,h=e[o[i-1]],p=h.left===c?h.right:h.left;++f<i;)a=p,p=(h=e[o[f]]).left===c?h.right:h.left,a&&p&&r<a.index&&r<p.index&&(s=a,l=p,((u=c)[0]-l[0])*(s[1]-u[1])-(u[0]-s[0])*(l[1]-u[1])<0)&&t.push([c.data,a.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,o,i=this,a=i._found||0,u=i.cells.length;!(o=i.cells[a]);)if(++a>=u)return null;var s=t-o.site[0],l=e-o.site[1],c=s*s+l*l;do{o=i.cells[r=a],a=null,o.halfedges.forEach((function(n){var r=i.edges[n],u=r.left;if(u!==o.site&&u||(u=r.right)){var s=t-u[0],l=e-u[1],f=s*s+l*l;f<c&&(c=f,a=u.index)}}))}while(null!==a);return i._found=r,null==n||c<=n*n?o.site:null}},Co.prototype={constructor:Co,scale:function(t){return 1===t?this:new Co(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Co(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Co(1,0,0);Co.prototype;var Po=n(5183),jo=n.n(Po);function Ro(t,e){return function(){return t.apply(e,arguments)}}function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}var Lo,Io=Object.prototype.toString,Bo=Object.getPrototypeOf,Fo=(Lo=Object.create(null),function(t){var e=Io.call(t);return Lo[e]||(Lo[e]=e.slice(8,-1).toLowerCase())}),Do=function(t){return t=t.toLowerCase(),function(e){return Fo(e)===t}},Uo=function(t){return function(e){return To(e)===t}},Ho=Array.isArray,qo=Uo("undefined");var Vo=Do("ArrayBuffer");var zo=Uo("string"),Xo=Uo("function"),Jo=Uo("number"),$o=function(t){return null!==t&&"object"===To(t)},Yo=function(t){if("object"!==Fo(t))return!1;var e=Bo(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},Ko=Do("Date"),Wo=Do("File"),Go=Do("Blob"),Zo=Do("FileList"),Qo=Do("URLSearchParams");function ti(t,e){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.allOwnKeys,a=void 0!==i&&i;if(null!=t)if("object"!==To(t)&&(t=[t]),Ho(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{var u,s=a?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;for(n=0;n<l;n++)u=s[n],e.call(null,t[u],u,t)}}function ei(t,e){e=e.toLowerCase();for(var n,r=Object.keys(t),o=r.length;o-- >0;)if(e===(n=r[o]).toLowerCase())return n;return null}var ni="undefined"==typeof self?"undefined"==typeof global?void 0:global:self,ri=function(t){return!qo(t)&&t!==ni};var oi,ii,ai=(oi="undefined"!=typeof Uint8Array&&Bo(Uint8Array),function(t){return oi&&t instanceof oi}),ui=Do("HTMLFormElement"),si=(ii=Object.prototype.hasOwnProperty,function(t,e){return ii.call(t,e)}),li=Do("RegExp"),ci=function(t,e){var n=Object.getOwnPropertyDescriptors(t),r={};ti(n,(function(n,o){!1!==e(n,o,t)&&(r[o]=n)})),Object.defineProperties(t,r)};const fi={isArray:Ho,isArrayBuffer:Vo,isBuffer:function(t){return null!==t&&!qo(t)&&null!==t.constructor&&!qo(t.constructor)&&Xo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||Io.call(t)===e||Xo(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&Vo(t.buffer)},isString:zo,isNumber:Jo,isBoolean:function(t){return!0===t||!1===t},isObject:$o,isPlainObject:Yo,isUndefined:qo,isDate:Ko,isFile:Wo,isBlob:Go,isRegExp:li,isFunction:Xo,isStream:function(t){return $o(t)&&Xo(t.pipe)},isURLSearchParams:Qo,isTypedArray:ai,isFileList:Zo,forEach:ti,merge:function t(){for(var e=ri(this)&&this||{},n=e.caseless,r={},o=function(e,o){var i=n&&ei(r,o)||o;Yo(r[i])&&Yo(e)?r[i]=t(r[i],e):Yo(e)?r[i]=t({},e):Ho(e)?r[i]=e.slice():r[i]=e},i=0,a=arguments.length;i<a;i++)arguments[i]&&ti(arguments[i],o);return r},extend:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.allOwnKeys;return ti(e,(function(e,r){n&&Xo(e)?t[r]=Ro(e,n):t[r]=e}),{allOwnKeys:o}),t},trim:function(t){return t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n,r){var o,i,a,u={};if(e=e||{},null==t)return e;do{for(i=(o=Object.getOwnPropertyNames(t)).length;i-- >0;)a=o[i],r&&!r(a,t,e)||u[a]||(e[a]=t[a],u[a]=!0);t=!1!==n&&Bo(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:Fo,kindOfTest:Do,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;if(Ho(t))return t;var e=t.length;if(!Jo(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},forEachEntry:function(t,e){for(var n,r=(t&&t[Symbol.iterator]).call(t);(n=r.next())&&!n.done;){var o=n.value;e.call(t,o[0],o[1])}},matchAll:function(t,e){for(var n,r=[];null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:ui,hasOwnProperty:si,hasOwnProp:si,reduceDescriptors:ci,freezeMethods:function(t){ci(t,(function(e,n){if(Xo(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=t[n];Xo(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(t,e){var n={},r=function(t){t.forEach((function(t){n[t]=!0}))};return Ho(t)?r(t):r(String(t).split(e)),n},toCamelCase:function(t){return t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(t,e){return t=+t,Number.isFinite(t)?t:e},findKey:ei,global:ni,isContextDefined:ri,toJSONObject:function(t){var e=new Array(10);return function t(n,r){if($o(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[r]=n;var o=Ho(n)?[]:{};return ti(n,(function(e,n){var i=t(e,r+1);!qo(i)&&(o[n]=i)})),e[r]=void 0,o}}return n}(t,0)}};function hi(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}fi.inherits(hi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fi.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var pi=hi.prototype,di={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(t){di[t]={value:t}})),Object.defineProperties(hi,di),Object.defineProperty(pi,"isAxiosError",{value:!0}),hi.from=function(t,e,n,r,o,i){var a=Object.create(pi);return fi.toFlatObject(t,a,(function(t){return t!==Error.prototype}),(function(t){return"isAxiosError"!==t})),hi.call(a,t.message,e,n,r,o),a.cause=t,a.name=t.name,i&&Object.assign(a,i),a};const yi=hi;const mi=n(9002);function vi(t){return vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vi(t)}function gi(t){return fi.isPlainObject(t)||fi.isArray(t)}function bi(t){return fi.endsWith(t,"[]")?t.slice(0,-2):t}function wi(t,e,n){return t?t.concat(e).map((function(t,e){return t=bi(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}var _i=fi.toFlatObject(fi,{},null,(function(t){return/^is[A-Z]/.test(t)}));const xi=function(t,e,n){if(!fi.isObject(t))throw new TypeError("target must be an object");e=e||new(mi||FormData);var r,o=(n=fi.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!fi.isUndefined(e[t])}))).metaTokens,i=n.visitor||c,a=n.dots,u=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&((r=e)&&fi.isFunction(r.append)&&"FormData"===r[Symbol.toStringTag]&&r[Symbol.iterator]);if(!fi.isFunction(i))throw new TypeError("visitor must be a function");function l(t){if(null===t)return"";if(fi.isDate(t))return t.toISOString();if(!s&&fi.isBlob(t))throw new yi("Blob is not supported. Use a Buffer instead.");return fi.isArrayBuffer(t)||fi.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function c(t,n,r){var i=t;if(t&&!r&&"object"===vi(t))if(fi.endsWith(n,"{}"))n=o?n:n.slice(0,-2),t=JSON.stringify(t);else if(fi.isArray(t)&&function(t){return fi.isArray(t)&&!t.some(gi)}(t)||fi.isFileList(t)||fi.endsWith(n,"[]")&&(i=fi.toArray(t)))return n=bi(n),i.forEach((function(t,r){!fi.isUndefined(t)&&null!==t&&e.append(!0===u?wi([n],r,a):null===u?n:n+"[]",l(t))})),!1;return!!gi(t)||(e.append(wi(r,n,a),l(t)),!1)}var f=[],h=Object.assign(_i,{defaultVisitor:c,convertValue:l,isVisitable:gi});if(!fi.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!fi.isUndefined(n)){if(-1!==f.indexOf(n))throw Error("Circular reference detected in "+r.join("."));f.push(n),fi.forEach(n,(function(n,o){!0===(!(fi.isUndefined(n)||null===n)&&i.call(e,n,fi.isString(o)?o.trim():o,r,h))&&t(n,r?r.concat(o):[o])})),f.pop()}}(t),e};function ki(t){var e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function Si(t,e){this._pairs=[],t&&xi(t,this,e)}var Ei=Si.prototype;Ei.append=function(t,e){this._pairs.push([t,e])},Ei.toString=function(t){var e=t?function(e){return t.call(this,e,ki)}:ki;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};const Mi=Si;function Oi(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ai(t,e,n){if(!e)return t;var r,o=n&&n.encode||Oi,i=n&&n.serialize;if(r=i?i(e,n):fi.isURLSearchParams(e)?e.toString():new Mi(e,n).toString(o)){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+r}return t}function Ni(t){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Ni(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Ni(i)?i:String(i)),r)}var o,i}var Pi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers=[]}var e,n,r;return e=t,n=[{key:"use",value:function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(t){this.handlers[t]&&(this.handlers[t]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(t){fi.forEach(this.handlers,(function(e){null!==e&&t(e)}))}}],n&&Ci(e.prototype,n),r&&Ci(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const ji=Pi,Ri={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ti="undefined"!=typeof URLSearchParams?URLSearchParams:Mi,Li=FormData;var Ii,Bi=("undefined"==typeof navigator||"ReactNative"!==(Ii=navigator.product)&&"NativeScript"!==Ii&&"NS"!==Ii)&&"undefined"!=typeof window&&"undefined"!=typeof document,Fi="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;const Di={isBrowser:!0,classes:{URLSearchParams:Ti,FormData:Li,Blob},isStandardBrowserEnv:Bi,isStandardBrowserWebWorkerEnv:Fi,protocols:["http","https","file","blob","url","data"]};const Ui=function(t){function e(t,n,r,o){var i=t[o++],a=Number.isFinite(+i),u=o>=t.length;return i=!i&&fi.isArray(r)?r.length:i,u?(fi.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&fi.isObject(r[i])||(r[i]=[]),e(t,n,r[i],o)&&fi.isArray(r[i])&&(r[i]=function(t){var e,n,r={},o=Object.keys(t),i=o.length;for(e=0;e<i;e++)r[n=o[e]]=t[n];return r}(r[i])),!a)}if(fi.isFormData(t)&&fi.isFunction(t.entries)){var n={};return fi.forEachEntry(t,(function(t,r){e(function(t){return fi.matchAll(/\w+|\[(\w*)]/g,t).map((function(t){return"[]"===t[0]?"":t[1]||t[0]}))}(t),r,n,0)})),n}return null};var Hi={"Content-Type":void 0};var qi={transitional:Ri,adapter:["xhr","http"],transformRequest:[function(t,e){var n,r=e.getContentType()||"",o=r.indexOf("application/json")>-1,i=fi.isObject(t);if(i&&fi.isHTMLForm(t)&&(t=new FormData(t)),fi.isFormData(t))return o&&o?JSON.stringify(Ui(t)):t;if(fi.isArrayBuffer(t)||fi.isBuffer(t)||fi.isStream(t)||fi.isFile(t)||fi.isBlob(t))return t;if(fi.isArrayBufferView(t))return t.buffer;if(fi.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return xi(t,new Di.classes.URLSearchParams,Object.assign({visitor:function(t,e,n,r){return Di.isNode&&fi.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((n=fi.isFileList(t))||r.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return xi(n?{"files[]":t}:t,a&&new a,this.formSerializer)}}return i||o?(e.setContentType("application/json",!1),function(t,e,n){if(fi.isString(t))try{return(e||JSON.parse)(t),fi.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||qi.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(t&&fi.isString(t)&&(n&&!this.responseType||r)){var o=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw yi.from(t,yi.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Di.classes.FormData,Blob:Di.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};fi.forEach(["delete","get","head"],(function(t){qi.headers[t]={}})),fi.forEach(["post","put","patch"],(function(t){qi.headers[t]=fi.merge(Hi)}));const Vi=qi;var zi=fi.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);function Xi(t){return Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(t)}function Ji(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return $i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Xi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Xi(i)?i:String(i)),r)}var o,i}var Ki=Symbol("internals");function Wi(t){return t&&String(t).trim().toLowerCase()}function Gi(t){return!1===t||null==t?t:fi.isArray(t)?t.map(Gi):String(t)}function Zi(t,e,n,r){return fi.isFunction(r)?r.call(this,e,n):fi.isString(e)?fi.isString(r)?-1!==e.indexOf(r):fi.isRegExp(r)?r.test(e):void 0:void 0}var Qi=function(t,e){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),t&&this.set(t)}var r,o,i;return r=n,o=[{key:"set",value:function(t,e,n){var r=this;function o(t,e,n){var o=Wi(e);if(!o)throw new Error("header name must be a non-empty string");var i=fi.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||e]=Gi(t))}var i,a,u,s,l,c=function(t,e){return fi.forEach(t,(function(t,n){return o(t,n,e)}))};return fi.isPlainObject(t)||t instanceof this.constructor?c(t,e):fi.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z]+$/.test(t.trim())?c((l={},(i=t)&&i.split("\n").forEach((function(t){s=t.indexOf(":"),a=t.substring(0,s).trim().toLowerCase(),u=t.substring(s+1).trim(),!a||l[a]&&zi[a]||("set-cookie"===a?l[a]?l[a].push(u):l[a]=[u]:l[a]=l[a]?l[a]+", "+u:u)})),l),e):null!=t&&o(e,t,n),this}},{key:"get",value:function(t,e){if(t=Wi(t)){var n=fi.findKey(this,t);if(n){var r=this[n];if(!e)return r;if(!0===e)return function(t){for(var e,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;e=r.exec(t);)n[e[1]]=e[2];return n}(r);if(fi.isFunction(e))return e.call(this,r,n);if(fi.isRegExp(e))return e.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(t,e){if(t=Wi(t)){var n=fi.findKey(this,t);return!(!n||e&&!Zi(0,this[n],n,e))}return!1}},{key:"delete",value:function(t,e){var n=this,r=!1;function o(t){if(t=Wi(t)){var o=fi.findKey(n,t);!o||e&&!Zi(0,n[o],o,e)||(delete n[o],r=!0)}}return fi.isArray(t)?t.forEach(o):o(t),r}},{key:"clear",value:function(){return Object.keys(this).forEach(this.delete.bind(this))}},{key:"normalize",value:function(t){var e=this,n={};return fi.forEach(this,(function(r,o){var i=fi.findKey(n,o);if(i)return e[i]=Gi(r),void delete e[o];var a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n}))}(o):String(o).trim();a!==o&&delete e[o],e[a]=Gi(r),n[a]=!0})),this}},{key:"concat",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.constructor).concat.apply(t,[this].concat(n))}},{key:"toJSON",value:function(t){var e=Object.create(null);return fi.forEach(this,(function(n,r){null!=n&&!1!==n&&(e[r]=t&&fi.isArray(n)?n.join(", "):n)})),e}},{key:t,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(t){var e=Ji(t,2);return e[0]+": "+e[1]})).join("\n")}},{key:e,get:function(){return"AxiosHeaders"}}],i=[{key:"from",value:function(t){return t instanceof this?t:new this(t)}},{key:"concat",value:function(t){for(var e=new this(t),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((function(t){return e.set(t)})),e}},{key:"accessor",value:function(t){var e=(this[Ki]=this[Ki]={accessors:{}}).accessors,n=this.prototype;function r(t){var r=Wi(t);e[r]||(function(t,e){var n=fi.toCamelCase(" "+e);["get","set","has"].forEach((function(r){Object.defineProperty(t,r+n,{value:function(t,n,o){return this[r].call(this,e,t,n,o)},configurable:!0})}))}(n,t),e[r]=!0)}return fi.isArray(t)?t.forEach(r):r(t),this}}],o&&Yi(r.prototype,o),i&&Yi(r,i),Object.defineProperty(r,"prototype",{writable:!1}),n}(Symbol.iterator,Symbol.toStringTag);Qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),fi.freezeMethods(Qi.prototype),fi.freezeMethods(Qi);const ta=Qi;function ea(t,e){var n=this||Vi,r=e||n,o=ta.from(r.headers),i=r.data;return fi.forEach(t,(function(t){i=t.call(n,i,o.normalize(),e?e.status:void 0)})),o.normalize(),i}function na(t){return!(!t||!t.__CANCEL__)}function ra(t,e,n){yi.call(this,null==t?"canceled":t,yi.ERR_CANCELED,e,n),this.name="CanceledError"}fi.inherits(ra,yi,{__CANCEL__:!0});const oa=ra;const ia=Di.isStandardBrowserEnv?{write:function(t,e,n,r,o,i){var a=[];a.push(t+"="+encodeURIComponent(e)),fi.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),fi.isString(r)&&a.push("path="+r),fi.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function aa(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const ua=Di.isStandardBrowserEnv?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=fi.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0};const sa=function(t,e){t=t||10;var n,r=new Array(t),o=new Array(t),i=0,a=0;return e=void 0!==e?e:1e3,function(u){var s=Date.now(),l=o[a];n||(n=s),r[i]=u,o[i]=s;for(var c=a,f=0;c!==i;)f+=r[c++],c%=t;if((i=(i+1)%t)===a&&(a=(a+1)%t),!(s-n<e)){var h=l&&s-l;return h?Math.round(1e3*f/h):void 0}}};function la(t,e){var n=0,r=sa(50,250);return function(o){var i=o.loaded,a=o.lengthComputable?o.total:void 0,u=i-n,s=r(u);n=i;var l={loaded:i,total:a,progress:a?i/a:void 0,bytes:u,rate:s||void 0,estimated:s&&a&&i<=a?(a-i)/s:void 0,event:o};l[e?"download":"upload"]=!0,t(l)}}const ca="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){var r,o=t.data,i=ta.from(t.headers).normalize(),a=t.responseType;function u(){t.cancelToken&&t.cancelToken.unsubscribe(r),t.signal&&t.signal.removeEventListener("abort",r)}fi.isFormData(o)&&(Di.isStandardBrowserEnv||Di.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);var s=new XMLHttpRequest;if(t.auth){var l=t.auth.username||"",c=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(l+":"+c))}var f=aa(t.baseURL,t.url);function h(){if(s){var r=ta.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new yi("Request failed with status code "+n.status,[yi.ERR_BAD_REQUEST,yi.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}((function(t){e(t),u()}),(function(t){n(t),u()}),{data:a&&"text"!==a&&"json"!==a?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:t,request:s}),s=null}}if(s.open(t.method.toUpperCase(),Ai(f,t.params,t.paramsSerializer),!0),s.timeout=t.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new yi("Request aborted",yi.ECONNABORTED,t,s)),s=null)},s.onerror=function(){n(new yi("Network Error",yi.ERR_NETWORK,t,s)),s=null},s.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||Ri;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new yi(e,r.clarifyTimeoutError?yi.ETIMEDOUT:yi.ECONNABORTED,t,s)),s=null},Di.isStandardBrowserEnv){var p=(t.withCredentials||ua(f))&&t.xsrfCookieName&&ia.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}void 0===o&&i.setContentType(null),"setRequestHeader"in s&&fi.forEach(i.toJSON(),(function(t,e){s.setRequestHeader(e,t)})),fi.isUndefined(t.withCredentials)||(s.withCredentials=!!t.withCredentials),a&&"json"!==a&&(s.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&s.addEventListener("progress",la(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",la(t.onUploadProgress)),(t.cancelToken||t.signal)&&(r=function(e){s&&(n(!e||e.type?new oa(null,t,s):e),s.abort(),s=null)},t.cancelToken&&t.cancelToken.subscribe(r),t.signal&&(t.signal.aborted?r():t.signal.addEventListener("abort",r)));var d,y=(d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(f))&&d[1]||"";y&&-1===Di.protocols.indexOf(y)?n(new yi("Unsupported protocol "+y+":",yi.ERR_BAD_REQUEST,t)):s.send(o||null)}))};var fa={http:null,xhr:ca};fi.forEach(fa,(function(t,e){if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const ha=function(t){for(var e,n,r=(t=fi.isArray(t)?t:[t]).length,o=0;o<r&&(e=t[o],!(n=fi.isString(e)?fa[e.toLowerCase()]:e));o++);if(!n){if(!1===n)throw new yi("Adapter ".concat(e," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(fi.hasOwnProp(fa,e)?"Adapter '".concat(e,"' is not available in the build"):"Unknown adapter '".concat(e,"'"))}if(!fi.isFunction(n))throw new TypeError("adapter is not a function");return n};function pa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oa(null,t)}function da(t){return pa(t),t.headers=ta.from(t.headers),t.data=ea.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ha(t.adapter||Vi.adapter)(t).then((function(e){return pa(t),e.data=ea.call(t,t.transformResponse,e),e.headers=ta.from(e.headers),e}),(function(e){return na(e)||(pa(t),e&&e.response&&(e.response.data=ea.call(t,t.transformResponse,e.response),e.response.headers=ta.from(e.response.headers))),Promise.reject(e)}))}var ya=function(t){return t instanceof ta?t.toJSON():t};function ma(t,e){e=e||{};var n={};function r(t,e,n){return fi.isPlainObject(t)&&fi.isPlainObject(e)?fi.merge.call({caseless:n},t,e):fi.isPlainObject(e)?fi.merge({},e):fi.isArray(e)?e.slice():e}function o(t,e,n){return fi.isUndefined(e)?fi.isUndefined(t)?void 0:r(void 0,t,n):r(t,e,n)}function i(t,e){if(!fi.isUndefined(e))return r(void 0,e)}function a(t,e){return fi.isUndefined(e)?fi.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function u(n,o,i){return i in e?r(n,o):i in t?r(void 0,n):void 0}var s={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u,headers:function(t,e){return o(ya(t),ya(e),!0)}};return fi.forEach(Object.keys(t).concat(Object.keys(e)),(function(r){var i=s[r]||o,a=i(t[r],e[r],r);fi.isUndefined(a)&&i!==u||(n[r]=a)})),n}var va="1.2.1";function ga(t){return ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ga(t)}var ba={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){ba[t]=function(n){return ga(n)===t||"a"+(e<1?"n ":" ")+t}}));var wa={};ba.transitional=function(t,e,n){function r(t,e){return"[Axios v1.2.1] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,o,i){if(!1===t)throw new yi(r(o," has been removed"+(e?" in "+e:"")),yi.ERR_DEPRECATED);return e&&!wa[o]&&(wa[o]=!0,console.warn(r(o," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,o,i)}};const _a={assertOptions:function(t,e,n){if("object"!==ga(t))throw new yi("options must be an object",yi.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),o=r.length;o-- >0;){var i=r[o],a=e[i];if(a){var u=t[i],s=void 0===u||a(u,i,t);if(!0!==s)throw new yi("option "+i+" must be "+s,yi.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yi("Unknown option "+i,yi.ERR_BAD_OPTION)}},validators:ba};function xa(t){return xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(t)}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==xa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===xa(i)?i:String(i)),r)}var o,i}var Sa=_a.validators,Ea=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.defaults=e,this.interceptors={request:new ji,response:new ji}}var e,n,r;return e=t,(n=[{key:"request",value:function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{};var n,r=e=ma(this.defaults,e),o=r.transitional,i=r.paramsSerializer,a=r.headers;void 0!==o&&_a.assertOptions(o,{silentJSONParsing:Sa.transitional(Sa.boolean),forcedJSONParsing:Sa.transitional(Sa.boolean),clarifyTimeoutError:Sa.transitional(Sa.boolean)},!1),void 0!==i&&_a.assertOptions(i,{encode:Sa.function,serialize:Sa.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase(),(n=a&&fi.merge(a.common,a[e.method]))&&fi.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete a[t]})),e.headers=ta.concat(n,a);var u=[],s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,u.unshift(t.fulfilled,t.rejected))}));var l,c=[];this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));var f,h=0;if(!s){var p=[da.bind(this),void 0];for(p.unshift.apply(p,u),p.push.apply(p,c),f=p.length,l=Promise.resolve(e);h<f;)l=l.then(p[h++],p[h++]);return l}f=u.length;var d=e;for(h=0;h<f;){var y=u[h++],m=u[h++];try{d=y(d)}catch(t){m.call(this,t);break}}try{l=da.call(this,d)}catch(t){return Promise.reject(t)}for(h=0,f=c.length;h<f;)l=l.then(c[h++],c[h++]);return l}},{key:"getUri",value:function(t){return Ai(aa((t=ma(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}}])&&ka(e.prototype,n),r&&ka(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();fi.forEach(["delete","get","head","options"],(function(t){Ea.prototype[t]=function(e,n){return this.request(ma(n||{},{method:t,url:e,data:(n||{}).data}))}})),fi.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,o){return this.request(ma(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ea.prototype[t]=e(),Ea.prototype[t+"Form"]=e(!0)}));const Ma=Ea;function Oa(t){return Oa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oa(t)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==Oa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Oa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===Oa(i)?i:String(i)),r)}var o,i}var Na=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(t){n=t}));var r=this;this.promise.then((function(t){if(r._listeners){for(var e=r._listeners.length;e-- >0;)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},e((function(t,e,o){r.reason||(r.reason=new oa(t,e,o),n(r.reason))}))}var e,n,r;return e=t,n=[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}},{key:"unsubscribe",value:function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}}}],r=[{key:"source",value:function(){var e;return{token:new t((function(t){e=t})),cancel:e}}}],n&&Aa(e.prototype,n),r&&Aa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Ca=Na;var Pa=function t(e){var n=new Ma(e),r=Ro(Ma.prototype.request,n);return fi.extend(r,Ma.prototype,n,{allOwnKeys:!0}),fi.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(ma(e,n))},r}(Vi);Pa.Axios=Ma,Pa.CanceledError=oa,Pa.CancelToken=Ca,Pa.isCancel=na,Pa.VERSION=va,Pa.toFormData=xi,Pa.AxiosError=yi,Pa.Cancel=Pa.CanceledError,Pa.all=function(t){return Promise.all(t)},Pa.spread=function(t){return function(e){return t.apply(null,e)}},Pa.isAxiosError=function(t){return fi.isObject(t)&&!0===t.isAxiosError},Pa.mergeConfig=ma,Pa.AxiosHeaders=ta,Pa.formToJSON=function(t){return Ui(fi.isHTMLForm(t)?new FormData(t):t)},Pa.default=Pa;const ja=Pa;function Ra(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Ta(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ta(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var La=n(885);function Ia(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=Fa(t.filter((function(t){return t.hasOwnProperty("rating")})),"type"),i=0;for(var a in document.getElementById("route-types").innerHTML="",o)if(o.hasOwnProperty(a)&&""!=a&&"TR"!=a){var u="";""===e&&0===i&&(u="checked",e=a),""!=e&&a===e&&(u="checked");var s='<input type="radio" id="'.concat(a,'" name="routeType" value="').concat(a,'" ').concat(u,'></input><label class="lh-copy ml1 mr3" for="').concat(a,'"><strong>').concat(a,"</strong> <small>(").concat(o[a].length,")</small></label>");document.getElementById("route-types").insertAdjacentHTML("beforeend",s),i++}var l=Fa(t.filter((function(t){return t.hasOwnProperty("rating")})),"style",e);document.getElementById("route-styles").innerHTML="";var c=!1;for(var f in 0===n.length&&(c=!0),l)if(l.hasOwnProperty(f)&&""!=f){var h="";c&&(n.push(f),h="checked"),n.includes(f)&&(h="checked");var p='<input type="checkbox" id="'.concat(f,'" name="routeStyles[]" value="').concat(f,'" ').concat(h,'></input><label class="lh-copy ml1 mr3" for="').concat(f,'"><strong>').concat(f,"</strong> <small>(").concat(l[f].length,")</small></label>");document.getElementById("route-styles").insertAdjacentHTML("beforeend",p),i++}var d=Fa(t.filter((function(t){return t.hasOwnProperty("rating")})),"date",e);for(var y in document.getElementById("route-years").innerHTML="",c=!1,0===r.length&&(c=!0),d)if(d.hasOwnProperty(y)&&""!=y){var m="";c&&(r.push(y),m="checked"),r.includes(y)&&(m="checked");var v='<input type="checkbox" id="'.concat(y,'" name="routeYears[]" value="').concat(y,'" ').concat(m,'></input><label class="lh-copy ml1 mr3" for="').concat(y,'"><strong>').concat(y,"</strong> <small>(").concat(d[y].length,")</small></label>"),g=y.includes(" and before")?"beforeend":"afterbegin";document.getElementById("route-years").insertAdjacentHTML(g,v),i++}var b=[],w=Fa(o[e].filter((function(t){return n.includes(t.style)&&Ba(t.date.substring(0,4),r)&&t.hasOwnProperty("rating")})),"rating");for(var _ in w)if(w.hasOwnProperty(_)){var x,k={},S=Ra(w[_]);try{for(S.s();!(x=S.n()).done;){var E=x.value;E.style in k?k[E.style]+=1:k[E.style]=1}}catch(t){S.e(t)}finally{S.f()}k.rating=_,k.total=w[_].length,b.push(k)}b.sort((function(t,e){return Ua.indexOf(t.rating)-Ua.indexOf(e.rating)})),Da({ticks:b,keys:Object.keys(Fa(t,"style")).filter((function(t){return t}))});var M=document.getElementById("logbook");M.innerHTML=La(w)}function Ba(t,e){return!!e.includes(t)||!!e[e.length-1].includes("before")&&parseInt(e[e.length-1].substring(0,4))>=parseInt(t)}var Fa=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.sort((function(t,e){return new Date(e.date)-new Date(t.date)})).reduce((function(t,r){if("type"===e)r.type.split(", ").forEach((function(e){(t[e]=t[e]||[]).push(r)}));else if("style"===e)r.type.includes(n)&&(t[r[e]]=t[r[e]]||[]).push(r);else if("date"==e){var o=r[e].substring(0,4);Object.keys(t).length>2&&(o=Object.keys(t)[Object.keys(t).length-1].includes("before")?Object.keys(t)[Object.keys(t).length-1]:Object.keys(t)[0].includes(o)?Object.keys(t)[0]:r[e].substring(0,4)+" and before"),r.type.includes(n)&&(t[o.toString()]=t[o.toString()]||[]).push(r)}else(t[r[e]]=t[r[e]]||[]).push(r);return t}),{})};function Da(t){document.getElementById("log-chart").innerHTML="";var e=20,n=20,r=50,o=20,i=28,a=document.getElementById("log-chart").clientWidth-o-n,u=70+30*t.ticks.length-e-r,s=a/2-i,l=s,c=a-s,f=function(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],At)}("#log-chart").attr("width",o+a+n).attr("height",e+u+r),h=f.append("g").attr("transform","translate("+o+","+e+")"),p=Math.max(function(t,e){var n,r,o=t.length,i=-1;if(null==e){for(;++i<o;)if(null!=(n=t[i])&&n>=n)for(r=n;++i<o;)null!=(n=t[i])&&n>r&&(r=n)}else for(;++i<o;)if(null!=(n=e(t[i],i,t))&&n>=n)for(r=n;++i<o;)null!=(n=e(t[i],i,t))&&n>r&&(r=n);return r}(t.ticks,(function(t){return t.total}))),d=Hr().domain([0,p]).range([0,s]).nice(),y=ar().domain(t.ticks.map((function(t){return t.rating}))).range([u,0],.1),m=ir().range(["#555555","#FF6300","#FF725C","#FFB700","#999999","#9EEBCF","#FF80CC"]);m.domain(t.keys);var v,g=(v=y,w(2,v)).tickSize(4,0).tickPadding(i-4),b=function(t){return w(4,t)}(y).tickSize(4,0).tickFormat(""),x=_(d).ticks(p,"d"),k=_(d.copy().range([l,0])).ticks(p,"d");h.append("g").attr("class","axis y left").attr("transform",O(l,0)).call(g).selectAll("text").style("text-anchor","middle"),h.append("g").attr("class","axis y right").attr("transform",O(c,0)).call(b),h.append("g").attr("class","axis x left").attr("transform",O(0,u)).call(k),h.append("g").attr("class","axis x right").attr("transform",O(c,u)).call(x);var S=h.append("g").attr("transform",O(l,0)+"scale(-1,1)"),E=h.append("g").attr("transform",O(c,0));S.selectAll(".bar.left").data($r().keys(t.keys)(t.ticks)).enter().append("g").attr("fill",(function(t){return m(t.key)})).selectAll("rect").data((function(t){return t})).enter().append("rect").attr("y",(function(t){return y(t.data.rating)})).attr("x",(function(t){return d(t[0])})).attr("width",(function(t){return d(t[1])-d(t[0])})).attr("height",y.bandwidth()),E.selectAll(".bar.left").data($r().keys(t.keys)(t.ticks)).enter().append("g").attr("fill",(function(t){return m(t.key)})).selectAll("rect").data((function(t){return t})).enter().append("rect").attr("y",(function(t){return y(t.data.rating)})).attr("x",(function(t){return d(t[0])})).attr("width",(function(t){return d(t[1])-d(t[0])})).attr("height",y.bandwidth());var M=f.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","end").selectAll("g").data(t.keys.slice().reverse()).enter().append("g").attr("transform",(function(t,e){return"translate("+70*-e+","+(u+r)+")"}));function O(t,e){return"translate("+t+","+e+")"}M.append("rect").attr("x",a-19).attr("width",19).attr("height",19).attr("fill",m).on("click",(function(t){console.log(t)})),M.append("text").attr("x",a-24).attr("y",9.5).attr("dy","0.32em").text((function(t){return t}))}var Ua=["V1","V2","V3","V4","V5","V6","V7","5.6","5.7","5.8","5.9","5.10a","5.10b","5.10c","5.10d","5.11a","5.11b","5.11c","5.11d","5.12a","5.12b","5.12c","5.12d","5.13a","5.13b","5.13c","5.13d","5.14a","5.14b","5.14c","5.14d"];function Ha(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t&&localStorage.getItem("logbook-routes")){var e="",n=[],r=[];document.querySelector("input[name='routeType']:checked")&&(e=document.querySelector("input[name='routeType']:checked").value),document.querySelector("input[name='routeStyles[]']:checked")&&jo()("input[name='routeStyles[]']:checked").each((function(t){n.push(t.value)})),document.querySelector("input[name='routeYears[]']:checked")&&jo()("input[name='routeYears[]']:checked").each((function(t){r.push(t.value)})),Ia(JSON.parse(localStorage.getItem("logbook-routes")),e,n,r)}else ja.get("/assets/json/ticks.json").then((function(t){localStorage.setItem("logbook-routes",JSON.stringify(t.data)),Ia(t.data)})).catch((function(t){console.log(t)}))}jo()("#mp-submit").on("click",(function(){var t=document.getElementById("mp-email").value;t&&/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?function(t){ja.get("/.netlify/functions/get-mp-ticks?email=".concat(t)).then((function(t){document.getElementById("log-owner").innerHTML=t.data.name+"'s Ticks",localStorage.setItem("logbook-routes",JSON.stringify(t.data.routes)),localStorage.setItem("logbook-status",Date.now()),Ia(t.data.routes)})).catch((function(t){t.response?alert(t.response.data.error):t.request?console.log("Error",t.request):console.log("Error",t.message)}))}(t):alert("Please enter a valid e-mail address.")})),jo()("#route-types").on("change",(function(){var t=document.querySelector("input[name='routeType']:checked").value;Ia(JSON.parse(localStorage.getItem("logbook-routes")),t)})),Ha(!0),jo()("#route-styles").on("change",(function(){Ha()})),jo()("#route-years").on("change",(function(){Ha()})),jo()("#settings-toggle").on("click",(function(){jo()("#settings").hasClass("open")?(jo()("#settings").removeClass("open"),jo()("#settings-toggle").text("Show Instructions"),document.getElementById("settings").style.display="none"):(jo()("#settings").addClass("open"),jo()("#settings-toggle").text("Hide Instructions"),document.getElementById("settings").style.display="block")})),document.getElementById("clear-cache").addEventListener("click",(function(t){localStorage.clear()})),jo()("#issues-toggle").on("click",(function(){jo()("#issues").hasClass("open")?(jo()("#issues").removeClass("open"),jo()("#issues-toggle").text("Show Known Issues"),document.getElementById("issues").innerHTML=""):(jo()("#issues").addClass("open"),jo()("#issues-toggle").text("Hide Known Issues"),ja.get("https://api.github.com/repos/jdillard/personal-site/issues?labels=logbook&state=open").then((function(t){for(var e in t.data){var n='<div class="mv2"><a class="no-underline relative f6 black-70 hover-light-red" href="'+t.data[e].html_url+'">'+t.data[e].title+"</a></div>";document.getElementById("issues").insertAdjacentHTML("beforeend",n)}})).catch((function(t){console.log(t)})))}))})()})();